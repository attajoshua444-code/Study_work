<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Study Group Feedback — Embedded Form</title>
  <style>
    :root {
      --accent: #6C63FF;
      --accent2: #FF6B6B;
      --muted: #6b7280;
      font-family: Inter, system-ui, -apple-system, "Segoe UI", Roboto, Arial, sans-serif;
    }
    html,body { height:100%; margin:0; padding:0; }
    .page { display:none; min-height:100vh; width:100%; }
    .active { display:flex; }
    /* Welcome */
    #welcome {
      flex-direction:column; align-items:center; justify-content:center;
      background:linear-gradient(135deg,#6C63FF 0%,#FF6B6B 100%);
      color:#fff; text-align:center; padding:28px;
    }
    #welcome h1 { font-size:2rem; margin:8px 0; }
    #welcome p { font-size:1.05rem; max-width:660px; color: #f6f7fb; margin:0 0 20px; }
    .btn {
      background:#fff; color:var(--accent); padding:12px 20px; border-radius:10px;
      border:none; cursor:pointer; font-weight:700; font-size:16px;
      box-shadow:0 8px 20px rgba(0,0,0,0.12);
    }
    .btn:active { transform:translateY(1px) }
    /* Form page with colorful background */
    #formPage {
      flex-direction:column; align-items:center; padding:28px;
      background:
        radial-gradient(800px 400px at 10% 10%, rgba(108,99,255,0.12), transparent 10%),
        radial-gradient(700px 350px at 90% 90%, rgba(255,107,107,0.08), transparent 8%),
        linear-gradient(135deg,#0f172a 0%, #081226 60%, #02121a 100%);
      color:#e6eefb;
    }
    .frame-wrap {
      width:100%;
      max-width:980px;
      background: rgba(255,255,255,0.02);
      border-radius:12px;
      padding:12px;
      box-shadow: 0 10px 30px rgba(2,6,23,0.6);
    }
    /* Responsive iframe */
    .the-iframe {
      width:100%;
      height:900px; /* adjust as needed for form length */
      border:0;
      border-radius:8px;
      background:white;
      display:block;
    }
    .fallback {
      margin-top:10px;
      color:#cfe3ff;
      font-size:14px;
    }
    a.fallback-link { color:#fff; text-decoration:underline; }
    /* small screens */
    @media (max-width:720px){
      .the-iframe { height:1200px; }
    }
  </style>
</head>
<body>
  <!-- Welcome -->
  <div id="welcome" class="page active" role="main" aria-labelledby="welcomeTitle">
    <h1 id="welcomeTitle">Welcome — Study Group Feedback</h1>
    <p>Quick questions, honest answers. Click proceed and give us the lowdown — takes ~3 minutes. Your responses go straight to the organiser's spreadsheet.</p>
    <button id="proceedBtn" class="btn" aria-label="Proceed to feedback form">Click to Proceed</button>
  </div>

  <!-- Form Page -->
  <div id="formPage" class="page" aria-hidden="true">
    <div class="frame-wrap" role="region" aria-label="Embedded Feedback Form">
      <!--
        Replace the src below with the embed src from Google Forms.
        Example src format:
        https://docs.google.com/forms/d/e/1FAIpQLSf.../viewform?embedded=true
      -->
      <iframe
        id="googleFormIframe"
        class="the-iframe"
        src="https://forms.gle/xkNKtfJvJbWqxWAP8"
        title="Study Group Feedback Form"
        loading="lazy"
        allowfullscreen>
      </iframe>

      <div class="fallback">
        If the form does not appear, <a id="openInNewTab" class="fallback-link" href="#" target="_blank" rel="noopener">open the feedback form in a new tab</a>.
      </div>
    </div>
  </div>

  <script>
    // Navigation: Welcome -> Form (load iframe)
    const proceedBtn = document.getElementById('proceedBtn');
    const welcome = document.getElementById('welcome');
    const formPage = document.getElementById('formPage');
    const iframe = document.getElementById('googleFormIframe');
    const fallbackLink = document.getElementById('openInNewTab');

    proceedBtn.addEventListener('click', () => {
      welcome.classList.remove('active');
      welcome.setAttribute('aria-hidden', 'true');
      formPage.classList.add('active');
      formPage.setAttribute('aria-hidden', 'false');

      // If the iframe src is still the placeholder, warn the uploader
      const src = iframe.getAttribute('src') || '';
      if (src.includes('YOUR_GOOGLE_FORM_EMBED_LINK') || src.trim() === '') {
        alert('Heads-up: you need to replace the placeholder src with your Google Form embed link. Open the HTML and paste the embed URL into the iframe src.');
      }

      // Set fallback link href to the iframe src so users can open in new tab if needed
      fallbackLink.href = src;
    });

    // Extra: if iframe src is valid, also set fallback link immediately (works for direct visit)
    const initSrc = iframe.getAttribute('src');
    if (initSrc && !initSrc.includes('YOUR_GOOGLE_FORM_EMBED_LINK')) {
      fallbackLink.href = initSrc;
    }
  </script>
</body>
</html>
